(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,a,t){e.exports=t(63)},39:function(e,a,t){},40:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(31),l=t.n(s),c=(t(39),t(40),t(32)),o=t(1),m=t(8),u=t(9),i=t(12),d=t(11),h=t(5),f=t(13),p=t(14),E=t.n(p),b=Object({NODE_ENV:"production",PUBLIC_URL:"/myapp"}).REACT_APP_API_URL,N=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"fetchUsers",value:function(){return E.a.get("".concat(b,"/users"))}},{key:"fetchUserById",value:function(e){return E.a.get("".concat(b,"/users/")+e)}},{key:"deleteUser",value:function(e){return E.a.delete("".concat(b,"/users")+e)}},{key:"addUser",value:function(e){return E.a.post("".concat(b,"/users"),e)}},{key:"editUser",value:function(e){return E.a.put("".concat(b,"/users")+e.id,e)}}]),e}()),v=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(i.a)(this,Object(d.a)(a).call(this,e))).state={users:[],message:null},t.deleteUser=t.deleteUser.bind(Object(h.a)(t)),t.editUser=t.editUser.bind(Object(h.a)(t)),t.addUser=t.addUser.bind(Object(h.a)(t)),t.reloadUserList=t.reloadUserList.bind(Object(h.a)(t)),t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.reloadUserList()}},{key:"reloadUserList",value:function(){var e=this;N.fetchUsers().then(function(a){e.setState({users:a.data})})}},{key:"deleteUser",value:function(e){var a=this;N.deleteUser(e).then(function(t){a.setState({message:"Usu\xe1rio deletado com sucesso!"}),a.setState({users:a.state.users.filter(function(a){return a.id!==e})})})}},{key:"editUser",value:function(e){window.localStorage.setItem("userId",e),this.props.history.push("/edit-user")}},{key:"addUser",value:function(){window.localStorage.removeItem("userId"),this.props.history.push("/add-user")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center"},"Lista de Usu\xe1rios"),r.a.createElement("button",{className:"btn btn-success",style:{width:"150px"},onClick:function(){return e.addUser()}},"Cadastrar Usu\xe1rio"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"hidden"},"Id"),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Sobre Nome"),r.a.createElement("th",null,"Usu\xe1rio"),r.a.createElement("th",null,"Idade"),r.a.createElement("th",null,"Sal\xe1rio"))),r.a.createElement("tbody",null,this.state.users.map(function(a){return r.a.createElement("tr",{key:a.id},r.a.createElement("td",null,a.firstName),r.a.createElement("td",null,a.lastName),r.a.createElement("td",null,a.username),r.a.createElement("td",null,a.age),r.a.createElement("td",null,a.salary),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn=warning",onClick:function(){return e.editUser(a.id)}}," ",r.a.createElement("i",{className:"fa fa-pencil"})),r.a.createElement("button",{className:"btn btn-danger ml-2",onClick:function(){return e.deleteUser(a.id)},style:{marginLeft:"1px"}}," ",r.a.createElement("i",{className:"fa fa-trash"}))))}))))}}]),a}(n.Component),g=t(16),y=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(i.a)(this,Object(d.a)(a).call(this,e))).saveUser=function(e){e.preventDefault();var a={username:t.state.username,password:t.state.password,firstName:t.state.firstName,lastName:t.state.lastName,age:t.state.age,salary:t.state.salary};N.addUser(a).then(function(e){t.setState({message:"User added successfully."}),t.props.history.push("/users")})},t.onChange=function(e){return t.setState(Object(g.a)({},e.target.name,e.target.value))},t.state={username:"",password:"",firstName:"",lastName:"",age:"",salary:"",message:null},t.saveUser=t.saveUser.bind(Object(h.a)(t)),t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center"},"Cadastro de Usu\xe1rio"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Usu\xe1rio:"),r.a.createElement("input",{type:"text",placeholder:"usu\xe1rio",name:"username",className:"form-control",value:this.state.username,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Senha:"),r.a.createElement("input",{type:"password",placeholder:"senha",name:"password",className:"form-control",value:this.state.password,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nome:"),r.a.createElement("input",{placeholder:"Nome",name:"firstName",className:"form-control",value:this.state.firstName,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Sobre nome:"),r.a.createElement("input",{placeholder:"Sobre nome",name:"lastName",className:"form-control",value:this.state.lastName,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Idade:"),r.a.createElement("input",{type:"number",placeholder:"idade",name:"age",className:"form-control",value:this.state.age,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Sal\xe1rio:"),r.a.createElement("input",{type:"number",placeholder:"sal\xe1rio",name:"salary",className:"form-control",value:this.state.salary,onChange:this.onChange})),r.a.createElement("button",{className:"btn btn-success",onClick:this.saveUser},"Salvar")))}}]),a}(n.Component),U=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(i.a)(this,Object(d.a)(a).call(this,e))).onChange=function(e){return t.setState(Object(g.a)({},e.target.name,e.target.value))},t.saveUser=function(e){e.preventDefault();var a={id:t.state.id,password:t.state.password,firstName:t.state.firstName,lastName:t.state.lastName,age:t.state.age,salary:t.state.salary};N.editUser(a).then(function(e){t.setState({message:"User added successfully."}),t.props.history.push("/users")})},t.state={id:"",firstName:"",lastName:"",age:"",salary:""},t.saveUser=t.saveUser.bind(Object(h.a)(t)),t.loadUser=t.loadUser.bind(Object(h.a)(t)),t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"loadUser",value:function(){var e=this;N.fetchUserById(window.localStorage.getItem("userId")).then(function(a){var t=a.data.result;e.setState({id:t.id,username:t.username,firstName:t.firstName,lastName:t.lastName,age:t.age,salary:t.salary})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center"},"Editar usu\xe1rio"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Usu\xe1rio:"),r.a.createElement("input",{type:"text",placeholder:"usu\xe1rio",name:"username",className:"form-control",readonly:"true",defaultValue:this.state.username})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nome:"),r.a.createElement("input",{placeholder:"nome",name:"firstName",className:"form-control",value:this.state.firstName,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Sobre Nome:"),r.a.createElement("input",{placeholder:"sobre nome",name:"lastName",className:"form-control",value:this.state.lastName,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Idade:"),r.a.createElement("input",{type:"number",placeholder:"idade",name:"age",className:"form-control",value:this.state.age,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Sal\xe1rio:"),r.a.createElement("input",{type:"number",placeholder:"sal\xe1rio",name:"salary",className:"form-control",value:this.state.salary,onChange:this.onChange})),r.a.createElement("button",{className:"btn btn-success",onClick:this.saveUser},"Save")))}}]),a}(n.Component);var C={color:"red",margin:"10px"},O=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(c.a,null,r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h1",{className:"text-center",style:C},"React User Application"),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:v}),r.a.createElement(o.a,{path:"/users",component:v}),r.a.createElement(o.a,{path:"/add-user",component:y}),r.a.createElement(o.a,{path:"/edit-user",component:U})))))};l.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.b6756bbc.chunk.js.map